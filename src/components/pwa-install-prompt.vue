<template>
    <f7-popup id="pwa-install-popup" tablet-fullscreen>
        <f7-view>
            <f7-page>
                <div class="pwa-install-page" v-if="currentPlatform == 'Safari' && !isDesktop">
                    <div class="text-center">
                        <img src="/pwa/apple-touch-icon.png" height="110" class="app-icon">
                        <h2>‡∏≠‡∏µ‡∏Å‡πÑ‡∏°‡πà‡∏Å‡∏µ‡πà‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô!</h2>
                        <p> ‡πÄ‡∏û‡∏¥‡πà‡∏° ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î ‡∏£‡∏∞‡∏¢‡∏≠‡∏á‡∏ß‡∏¥‡∏ó‡∏¢‡πå ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô</p>
                        <div class="divc" v-if="inAppBrowserName == ''">‡∏Å‡∏î‡∏ó‡∏µ‡πà <img src="/share-ios.png" class="m-2" height="25"> ‡πÅ‡∏•‡πâ‡∏ß
                            ‚Äú‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÇ‡∏Æ‡∏°‚Äù</div>

                            <div class="divc" v-if="inAppBrowserName == 'ig'">‡∏Å‡∏î‡∏ó‡∏µ‡πà <img src="/share-ios.png" class="m-2" height="25"> ‡πÅ‡∏•‡πâ‡∏ß
                            ‚Äú‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å‚Äù</div>
                        
                            <div class="divc" v-if="inAppBrowserName == 'line'">‡∏Å‡∏î‡∏ó‡∏µ‡πà <img src="/share-line.png" class="m-2" height="20"> ‡πÅ‡∏•‡πâ‡∏ß
                            ‚Äú‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‚Äù</div>
                    </div>
                </div>

                <div class="pwa-install-page" v-if="currentPlatform != 'Safari' && !isDesktop">
                    <div class="text-center">
                        <img src="/pwa/apple-touch-icon.png" height="110" class="app-icon">
                        <h2>‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏≠‡∏û‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Android</h2>
                        <p>‡πÅ‡∏≠‡∏û ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î ‡∏£‡∏∞‡∏¢‡∏≠‡∏á‡∏ß‡∏¥‡∏ó‡∏¢‡πå ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏î‡πâ‡∏ö‡∏ô Play Store</p>

                        <a @click="openSite('https://play.google.com/store/apps/details?id=xyz.devpixels.rywlatest&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1')"><img
                                alt='‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å Google Play'
                                src='https://play.google.com/intl/en_us/badges/static/images/badges/th_badge_web_generic.png' height="80" /></a>

                                <p class="text-muted copyright-txt">Google Play ‡πÅ‡∏•‡∏∞‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏Ç‡∏≠‡∏á Google Play ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á Google LLC.</p>
                    </div>
                </div>

                <div class="pwa-install-page" v-if="isDesktop">
                    <div class="text-center">
                        <img src="/pwa/apple-touch-icon.png" height="110" class="app-icon">
                        <h2>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ô‡∏µ‡πâ</h2>
                        <p>‡πÉ‡∏ô‡∏Ç‡∏ô‡∏≤‡∏î‡∏ô‡∏µ‡πâ ‡πÅ‡∏≠‡∏û ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î ‡∏£‡∏∞‡∏¢‡∏≠‡∏á‡∏ß‡∏¥‡∏ó‡∏¢‡πå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ô‡∏µ‡πâ ‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö üôè</p>
                    </div>
                </div>

                <div v-if="currentPlatform == 'Safari'">
                    <img src="/bubble-arrow.png?v=2" v-if="inAppBrowserName == '' || inAppBrowserName == 'ig'" class="install-arrow" height="50">
                    <img src="/bubble-arrow.png?v=2" v-if="inAppBrowserName == 'line'" class="install-arrow install-arrow-line" height="50">
                </div>

            </f7-page>
        </f7-view>
    </f7-popup>
</template>

<script setup>
import { Browser } from '@capacitor/browser';

const openSite = async (url) => {
  await Browser.open({ url });
}

</script>

<style scoped>
.pwa-install-page {
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background-image: url(/bg.png?v=2);
    background-size: cover;
}

.copyright-txt {
    font-size: 10px;
}

.app-icon {
    border-radius: 20px;
    box-shadow: 0px 4px 13.2px 0px rgba(0, 0, 0, 0.25);
}

.divc {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    background-color: whitesmoke;
    padding: 8px 32px;
    border-radius: 12px;
    box-shadow: 0px 5px 10px 0px rgba(0, 0, 0, 0.077);
}

.install-arrow {
    position: fixed;
    bottom: 10px;
    left: calc(50% - 15px);
    transform: translate3d(-50%);

    animation: arrowMove 4s;
    animation-iteration-count: infinite;
}

@keyframes arrowMove {
    0% {
        bottom: 10px;
    }

    50% {
        bottom: 30px;
    }

    100% {
        bottom: 10px;
    }
}

.install-arrow-line {
    left: calc(100% - 38px) !important;
    transform: none !important;
}
</style>